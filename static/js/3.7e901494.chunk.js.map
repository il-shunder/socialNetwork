{"version":3,"sources":["hoc/withAuthRedirect.js","components/main/profile/Profile.module.css","components/main/profile/Form.js","components/main/profile/FormContainer.js","components/main/profile/PostsContainer.jsx","components/main/profile/Posts.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/main/profile/ProfileStatusHooks.jsx","components/main/profile/Profile.js","components/main/profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","maxLength10","maxLengthCreater","AddPostReduxForm","reduxForm","form","handleSubmit","action","className","style","onSubmit","Field","name","area","component","TextArea","placeholder","validate","required","type","btn","FormContainer","postText","profilePage","newPostText","dispatch","addPost","text","addPostActionCreater","values","textarea","length","PostsContainer","data","postsData","map","el","post","postimg","posttext","id","reverse","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","ProfileStatusHooks","params","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","target","Profile","profile","baner","src","alt","row","img","photos","small","fullName","updateStatusThunkCreator","contacts","facebook","instagram","vk","posts","Preload","ProfileApiComponent","userId","match","history","getProfileThunkCreator","getStatusThunkCreator","reFreshProfile","prevProps","compose","photoUpdateThunkCreator","withRouter"],"mappings":"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","file":"static/js/3.7e901494.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction mapStateToPropsForRedirect(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    };\r\n}\r\n\r\nexport default function withAuthRedirect(Component) {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to=\"/login\" />;\r\n            }\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n\r\n    const RedirectComponentContainer = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return RedirectComponentContainer;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"baner\":\"Profile_baner__oQCpH\",\"row\":\"Profile_row__2dr5V\",\"img\":\"Profile_img__29x0x\",\"name\":\"Profile_name__3e9at\",\"form\":\"Profile_form__2Gl2L\",\"area\":\"Profile_area__3G1mU\",\"btn\":\"Profile_btn__10PwE\",\"posts\":\"Profile_posts__K3nGI\",\"post\":\"Profile_post__f7s33\",\"postimg\":\"Profile_postimg__2Y3Xz\",\"posttext\":\"Profile_posttext__MuwLP\"};","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreater, required } from \"../../../helper/validators\";\r\nimport { TextArea } from \"../common/FormsControl\";\r\nimport style from \"./Profile.module.css\";\r\n\r\nconst maxLength10 = maxLengthCreater(10);\r\n\r\nfunction AddPostForm({ handleSubmit }) {\r\n    return (\r\n        <form action=\"#\" className={style.form} onSubmit={handleSubmit}>\r\n            <div className=\"content-form__title\">My posts</div>\r\n            <Field name=\"textarea\" className={style.area} component={TextArea} placeholder=\"your news...\" validate={[required, maxLength10]} />\r\n            <button type=\"submit\" className={style.btn}>\r\n                SEND\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({\r\n    form: \"addPost\",\r\n})(AddPostForm);\r\n\r\nexport default function ContentForm({ addPost }) {\r\n    function onSubmit(values) {\r\n        if (values.textarea && values.textarea.length > 0) {\r\n            addPost(values.textarea);\r\n        }\r\n    }\r\n\r\n    return <AddPostReduxForm onSubmit={onSubmit} />;\r\n}\r\n","import Form from \"./Form\";\r\nimport { addPostActionCreater } from \"../../../redux/profileReducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        postText: state.profilePage.newPostText,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(addPostActionCreater(text));\r\n        },\r\n    };\r\n}\r\n\r\nconst FormContainer = connect(mapStateToProps, mapDispatchToProps)(Form);\r\n\r\nexport default FormContainer;\r\n","import { connect } from 'react-redux';\r\nimport Posts from './Posts';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        data: state.profilePage.postsData\r\n    };\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps)(Posts);\r\n\r\nexport default PostsContainer;\r\n","import React from \"react\";\r\nimport style from \"./Profile.module.css\";\r\n\r\nexport default function Posts({ data }) {\r\n    return data\r\n        .map((el) => {\r\n            return (\r\n                <div className={style.post} key={el.id}>\r\n                    <div className={style.postimg}></div>\r\n                    <div className={style.posttext}>{el.text}</div>\r\n                </div>\r\n            );\r\n        })\r\n        .reverse();\r\n}\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport \"./ProfileStatus.css\";\r\n\r\nexport default function ProfileStatusHooks(params) {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(params.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(params.status);\r\n    }, [params.status]);\r\n\r\n    function onEditMode() {\r\n        setEditMode(true);\r\n    }\r\n\r\n    function offEditMode() {\r\n        setEditMode(false);\r\n        params.updateStatus(status);\r\n    }\r\n\r\n    function onStatusChange(e) {\r\n        setStatus(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"status\">\r\n            {!editMode && (\r\n                <div className=\"text\">\r\n                    <span onDoubleClick={onEditMode}>{params.status}</span>\r\n                </div>\r\n            )}\r\n            {editMode && <input autoFocus type=\"text\" onBlur={offEditMode} onChange={onStatusChange} value={status} />}\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Preload from \"../common/Preload\";\r\nimport FormContainer from \"./FormContainer\";\r\nimport PostsContainer from \"./PostsContainer\";\r\nimport style from \"./Profile.module.css\";\r\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\r\n\r\nexport default function Profile(params) {\r\n    if (!params.profile) {\r\n        return <Preload />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            <div className={style.baner}>\r\n                <img\r\n                    src=\"https://media-exp1.licdn.com/dms/image/C4D1BAQGDmALg_8s-Yg/company-background_10000/0/1519799119530?e=2159024400&v=beta&t=4WV9YKR9L3PAEnppWmPPMk5xVnETtWvhZN8NexEzPwM\"\r\n                    alt=\"\"\r\n                />\r\n            </div>\r\n            <div className=\"content__info\">\r\n                <div className={style.row}>\r\n                    <div className={style.img}>\r\n                        <img\r\n                            src={\r\n                                params.profile.photos.small\r\n                                    ? params.profile.photos.small\r\n                                    : \"https://static.locals.md/2020/05/live-ben-sweet-2lowvivhz-e-unsplash.jpg\"\r\n                            }\r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"content__body\">\r\n                        <div className={style.name}>{params.profile.fullName}</div>\r\n                        <ProfileStatusHooks status={params.status} updateStatus={params.updateStatusThunkCreator} />\r\n                        <div className=\"content__item\">{params.profile.contacts.facebook}</div>\r\n                        <div className=\"content__item\">{params.profile.contacts.instagram}</div>\r\n                        <div className=\"content__item\">{params.profile.contacts.vk}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <FormContainer />\r\n            <div className={style.posts}>\r\n                <PostsContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, photoUpdateThunkCreator } from \"../../../redux/profileReducer\";\r\nimport withAuthRedirect from \"../../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nexport class ProfileApiComponent extends React.Component {\r\n    reFreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.userId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getProfileThunkCreator(userId);\r\n        this.props.getStatusThunkCreator(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.reFreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.reFreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} />;\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, photoUpdateThunkCreator }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileApiComponent);\r\n"],"sourceRoot":""}